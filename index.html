<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akshay Gharde - Resume</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
    
        <p>Click below to download my resume</p>
        <a href="resume.pdf" download="AkshayGharde_Resume.pdf" class="download-btn">
            Download Resume
        </a>
    </div>
    <!-- Load Supabase SDK -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<script>
  // Initialize Supabase
  const supabase = createClient(
    'https://[project-id].supabase.co',
    '[your-anon-key]'
  );

  // Track downloads
  document.querySelector('.download-btn').addEventListener('click', async (e) => {
    e.preventDefault();
    
    try {
      // Get user IP
      const ip = await fetch('https://api.ipify.org?format=json')
        .then(res => res.json())
        .then(data => data.ip);

      // Insert download record
      const { error } = await supabase
        .from('resume_downloads')
        .insert([{
          user_ip: ip,
          user_agent: navigator.userAgent,
          referrer: document.referrer
        }]);

      // Trigger download
      window.location.href = 'resume.pdf';
      
    } catch (err) {
      console.error('Tracking failed:', err);
      // Fallback download
      window.location.href = 'resume.pdf';
    }
  });
</script>
</body>
</html>
